{% ckan_extends %}

{#
  geospatial_metadata_values: Sublist of dcat_type_values that has geospatial metadata (INSPIRE Register).
#}
{%- set geospatial_metadata_values = [
  'http://inspire.ec.europa.eu/metadata-codelist/ResourceType/dataset',
  'http://inspire.ec.europa.eu/metadata-codelist/ResourceType/series',
  'http://inspire.ec.europa.eu/metadata-codelist/ResourceType/service'
] -%}

{% block content_primary_nav %}
  {{ super() }}
  {{ h.build_nav_icon('scheming_dcat.index', _('Linked Data'), id=pkg.id if is_activity_archive else pkg.name, icon='share-alt') }}

  {% if pkg.dcat_type in geospatial_metadata_values %}
    {{ h.build_nav_icon('scheming_dcat.geospatial_metadata', _('Geospatial Metadata'), id=pkg.id if is_activity_archive else pkg.name, icon='globe') }}
  {% endif %}
{% endblock %}

{% block secondary_content %}
  {% block secondary_help_content %}{% endblock %}

  {% block package_info %}
    {% if pkg.organization %}
      {% set org = h.get_organization(pkg.organization.id) %}
      {% snippet 'scheming_dcat/snippets/schemingdct_info.html', pkg_dict=pkg, dataset_type=dataset_type, organization=org %}
    {% endif %}
  {% endblock %}

  {% block graphic_overview %}
    {% if pkg.graphic_overview %}
      {% snippet "scheming_dcat/snippets/graphic_overview.html", pkg_dict=pkg %}
    {% endif %}
  {% endblock %}

  {% block package_data_access %}
    {% if pkg.access_rights or pkg_dict.license_url %}
      {% snippet "scheming_dcat/snippets/data_access_license.html", pkg_dict=pkg, dataset_type=dataset_type %}
    {% endif %}
  {% endblock %}
  
  {% block package_publisher_info %}
    {% if pkg_dict.publisher_name %}
      {% snippet "scheming_dcat/snippets/publisher_info.html", pkg_dict=pkg, dataset_type=dataset_type %}
    {% endif %}
  {% endblock %}

  {% block package_contact_info %}
    {% if pkg_dict.contact_name %}
      {% snippet "scheming_dcat/snippets/contact_info.html", pkg_dict=pkg, dataset_type=dataset_type %}
    {% endif %}
  {% endblock %}

  {% block package_related_resources %}
    {% if pkg_dict.reference %}
      {% snippet "scheming_dcat/snippets/related_resources.html", pkg_dict=pkg%}
    {% endif %}
  {% endblock %}

  {% block package_social %}
    {% snippet "scheming_dcat/snippets/schemingdct_social.html", pkg_dict=pkg %}
  {% endblock %}
{% endblock %}