{#

Inspired by /group/snippets/group_item.html

Renders a media item for a custom data. This should be used in a list.

custom_data - A custom_data dict.
id - dataset's id

Example:

    <ul class="media-grid">
      {% for custom_data in custom_data_list %}
        {% snippet "facet_scheming/custom_data/snippets/custom_data_item.html", custom_data=custom_data, id=id %}
      {% endfor %}
    </ul>
#}
{#% set url = h.url_for('dcat.read_dataset', _id=id, _format=data_link.name) %#}
{#% set url = h.url_is_local(custom_data.url.format(id=id)) %#}
{% set url = custom_data.url.format(id=id) %}

{% block item %}
<li class="media-item">
  {% block item_inner %}
  {% block image %}
    <img src="{{ custom_data.image_display_url or h.url_for_static('/base/images/placeholder-group.png') }}" alt="{{ custom_data.name }}" class="media-image img-responsive">
  {% endblock %}
  {% block title %}
    <h2 class="media-heading">{{ custom_data.display_name }}</h2>
  {% endblock %}
  {% block description %}
    {% if custom_data.description %}
      <p class="media-description">{{ h.markdown_extract(custom_data.description, extract_length=80) }}</p>
    {% endif %}
  {% endblock %}
  {% block link %}
  <a href="{{ url }}" title="{{ _('View {name}').format(name=custom_data.display_name) }}" class="media-view" target="_blank">
    <span>{{ _('View {name}').format(name=custom_data.display_name) }}</span>
  </a>
  {% endblock %}
  {% endblock %}
</li>
{% endblock %}
{% if position is divisibleby 3 %}
  <li class="clearfix js-hide"></li>
{% endif %}